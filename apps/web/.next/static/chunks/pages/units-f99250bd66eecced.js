(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[724],{2500:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/units",function(){return n(3695)}])},4271:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});let i=n(418).Z.create({baseURL:"/api"});i.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t))}return e})},3695:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return u},default:function(){return a}});var i=n(2322),r=n(2784),s=n(4271),u=!0;function a(){let[e,t]=(0,r.useState)([]),[n,u]=(0,r.useState)(""),[a,c]=(0,r.useState)("INFANTRY");async function o(e){e.preventDefault();let i=await s.h.post("/units",{name:n,type:a});t(e=>[...e,i.data]),u("")}async function l(e){await s.h.delete("/units/".concat(e)),t(t=>t.filter(t=>t.id!==e))}return(0,r.useEffect)(()=>{s.h.get("/units").then(e=>t(e.data))},[]),(0,i.jsxs)("div",{className:"container",children:[(0,i.jsx)("h1",{children:"Units"}),(0,i.jsxs)("form",{onSubmit:o,children:[(0,i.jsx)("input",{placeholder:"Name",value:n,onChange:e=>u(e.target.value)}),(0,i.jsxs)("select",{value:a,onChange:e=>c(e.target.value),children:[(0,i.jsx)("option",{children:"INFANTRY"}),(0,i.jsx)("option",{children:"ARMOR"}),(0,i.jsx)("option",{children:"ARTILLERY"}),(0,i.jsx)("option",{children:"AIRFORCE"}),(0,i.jsx)("option",{children:"NAVY"}),(0,i.jsx)("option",{children:"SUPPORT"})]}),(0,i.jsx)("button",{type:"submit",children:"Create"})]}),(0,i.jsx)("ul",{children:e.map(e=>(0,i.jsxs)("li",{children:[e.name," ",(0,i.jsx)("button",{onClick:()=>l(e.id),children:"Delete"})]},e.id))})]})}}},function(e){e.O(0,[418,888,774,179],function(){return e(e.s=2500)}),_N_E=e.O()}]);