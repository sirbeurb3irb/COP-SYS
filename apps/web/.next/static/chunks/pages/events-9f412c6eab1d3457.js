(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{7562:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events",function(){return n(7565)}])},4271:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});let r=n(418).Z.create({baseURL:"/api"});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t))}return e})},7565:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return a},default:function(){return i}});var r=n(2322),s=n(2784),u=n(4271),a=!0;function i(){let[e,t]=(0,s.useState)([]),[n,a]=(0,s.useState)(""),[i,o]=(0,s.useState)(9.145),[c,l]=(0,s.useState)(40.4897),[h,d]=(0,s.useState)("LOW");async function p(e){e.preventDefault();let r=await u.h.post("/events",{title:n,severity:h,location:{coordinates:[i,c]}});t(e=>[r.data,...e]),a("")}return(0,s.useEffect)(()=>{u.h.get("/events").then(e=>t(e.data))},[]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{children:"Events"}),(0,r.jsxs)("form",{onSubmit:p,children:[(0,r.jsx)("input",{placeholder:"Title",value:n,onChange:e=>a(e.target.value)}),(0,r.jsxs)("select",{value:h,onChange:e=>d(e.target.value),children:[(0,r.jsx)("option",{children:"LOW"}),(0,r.jsx)("option",{children:"MEDIUM"}),(0,r.jsx)("option",{children:"HIGH"}),(0,r.jsx)("option",{children:"CRITICAL"})]}),(0,r.jsx)("input",{type:"number",step:"0.0001",value:i,onChange:e=>o(Number(e.target.value))}),(0,r.jsx)("input",{type:"number",step:"0.0001",value:c,onChange:e=>l(Number(e.target.value))}),(0,r.jsx)("button",{type:"submit",children:"Create"})]}),(0,r.jsx)("ul",{children:e.map(e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("strong",{children:e.severity})," ",e.title]},e.id))})]})}}},function(e){e.O(0,[418,888,774,179],function(){return e(e.s=7562)}),_N_E=e.O()}]);