(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{1725:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return n(7214)}])},4271:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});let a=n(418).Z.create({baseURL:"/api"});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t))}return e})},7214:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return o},default:function(){return s}});var a=n(2322),r=n(2784),u=n(4271),o=!0;function s(){let[e,t]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[d,h]=(0,r.useState)("");async function p(t){t.preventDefault(),h("");try{await u.h.post("/auth/register",{email:e,password:n,firstName:s,lastName:l});let t=await u.h.post("/auth/login",{email:e,password:n});localStorage.setItem("token",t.data.token),window.location.href="/"}catch(e){var a,r;h((null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.message)||"Registration failed")}}return(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("h1",{children:"Register"}),(0,a.jsxs)("form",{onSubmit:p,children:[(0,a.jsx)("input",{placeholder:"Email",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("input",{placeholder:"First name",value:s,onChange:e=>i(e.target.value)}),(0,a.jsx)("input",{placeholder:"Last name",value:l,onChange:e=>c(e.target.value)}),(0,a.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>o(e.target.value)}),(0,a.jsx)("button",{type:"submit",children:"Create account"})]}),d&&(0,a.jsx)("p",{style:{color:"red"},children:d})]})}}},function(e){e.O(0,[418,888,774,179],function(){return e(e.s=1725)}),_N_E=e.O()}]);