(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{7946:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(307)}])},4271:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});let r=n(418).Z.create({baseURL:"/api"});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers=e.headers||{},e.headers.Authorization="Bearer ".concat(t))}return e})},307:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return i},default:function(){return s}});var r=n(2322),a=n(2784),o=n(4271),i=!0;function s(){let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[s,u]=(0,a.useState)("");async function l(t){t.preventDefault(),u("");try{let t=await o.h.post("/auth/login",{email:e,password:n});localStorage.setItem("token",t.data.token),window.location.href="/"}catch(e){var r,a;u((null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Login failed")}}return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h1",{children:"Login"}),(0,r.jsxs)("form",{onSubmit:l,children:[(0,r.jsx)("input",{placeholder:"Email",value:e,onChange:e=>t(e.target.value)}),(0,r.jsx)("input",{type:"password",placeholder:"Password",value:n,onChange:e=>i(e.target.value)}),(0,r.jsx)("button",{type:"submit",children:"Login"})]}),s&&(0,r.jsx)("p",{style:{color:"red"},children:s}),(0,r.jsxs)("p",{children:["Or ",(0,r.jsx)("a",{href:"/register",children:"register"})]})]})}}},function(e){e.O(0,[418,888,774,179],function(){return e(e.s=7946)}),_N_E=e.O()}]);